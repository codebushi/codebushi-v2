

<!DOCTYPE html>



<html amp lang="en-us" class="no-js">
<head>
    <title>Vue.js and Chart.js Weather API Example</title>
    <meta charset="utf-8">

    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>

    <script async src="https://cdn.ampproject.org/v0.js"></script>

    
        

<link rel="amp-manifest" href="/amp-manifest.json">

    




    <link rel="canonical" href="https://codebushi.com/vuejs-with-chartjs-api-example/">
    <link rel="icon" type="image/x-icon" href="https://codebushi.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta name="description" content="Use Vue.js and Chart.js to add charts/graphs to an existing website. Get weather data using Axios and the OpenWeatherMap API, then chart the temperatues by city.">

    

    <meta name="theme-color" content="#f72060" />

    
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Code Bushi",
    "alternateName": "Code Bushi",
    "url": "https://codebushi.com/"
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "codebushi.com",
  "url": "https://codebushi.com/"
  
  , "logo": "https://codebushi.com/codebushilogo.png"
  
  
}
</script>
















<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://codebushi.com/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "https://codebushi.com/vuejs-with-chartjs-api-example/",
          "name": "vuejs-with-chartjs-api-example"
        }
    }]
}
</script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Hunter Chang"
  },
  "headline": "Vue.js and Chart.js Weather API Example",
  "description": "Use Vue.js and Chart.js to add charts/graphs to an existing website. Get weather data using Axios and the OpenWeatherMap API, then chart the temperatues by city.",
  "wordCount": 1515,
  "datePublished" : "2018-09-13",
  "dateModified" : "2018-09-13",
  "image" : {
      "@context": "http://schema.org",
      "@type": "ImageObject",
      "url": "https://codebushi.com/amp/img/vuejs-chartjs.jpg",
      "height" : 503,
      "width" : 920
    },
  "mainEntityOfPage" : "https://codebushi.com/vuejs-with-chartjs-api-example/",
  "publisher" : {
    "@type": "Organization",
    "name" : "codebushi.com",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https://codebushi.com/codebushilogoamp.png",
        "height" : 60,
        "width" : 320
    }
  }
}
</script>




    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>
        html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0}mark{background:#ff0;color:#000}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}td,th{padding:0}*{box-sizing:border-box}button,input,select,textarea{font:13px/1.4 Helvetica,arial,freesans,clean,sans-serif}a{color:#4183c4}a:active,a:focus,a:hover{text-decoration:underline}.rule,hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border:0;border-bottom:1px solid #ddd}.rule:after,.rule:before,hr:after,hr:before{display:table;content:""}.rule:after,hr:after{clear:both}fieldset{padding:0;margin:0;border:0}label{font-size:13px;font-weight:700}#adv_code_search .search-page-label,input[type=email],input[type=number],input[type=password],input[type=tel],input[type=text],input[type=url],textarea{min-height:34px;padding:7px 8px;font-size:13px;color:#333;vertical-align:middle;background-color:#fff;background-repeat:no-repeat;background-position:100%;border:1px solid #ccc;border-radius:3px;outline:none;box-shadow:inset 0 1px 2px rgba(0,0,0,.075)}#adv_code_search .focus.search-page-label,#adv_code_search .search-page-label:focus,.focused .drag-and-drop,input[type=email].focus,input[type=email]:focus,input[type=number].focus,input[type=number]:focus,input[type=password].focus,input[type=password]:focus,input[type=tel].focus,input[type=tel]:focus,input[type=text].focus,input[type=text]:focus,input[type=url].focus,input[type=url]:focus,textarea.focus,textarea:focus{border-color:#51a7e8;box-shadow:inset 0 1px 2px rgba(0,0,0,.075),0 0 5px rgba(81,167,232,.5)}.input-contrast,input.input-contrast{background-color:#fafafa}.input-contrast:focus,input.input-contrast:focus{background-color:#fff}:-moz-placeholder,::-webkit-input-placeholder{color:#aaa}::-webkit-validation-bubble-message{font-size:12px;color:#fff;background:#9c2400;border:0;border-radius:3px;-webkit-box-shadow:1px 1px 1px rgba(0,0,0,.1)}input::-webkit-validation-bubble-icon{display:none}::-webkit-validation-bubble-arrow{background-color:#9c2400;border:1px solid #9c2400;-webkit-box-shadow:1px 1px 1px rgba(0,0,0,.1)}.absent{color:#c00}.anchor{position:absolute;top:0;bottom:0;left:0;display:block;padding-right:6px;padding-left:30px;margin-left:-30px}.anchor:focus{outline:none}h1,h2,h3,h4,h5,h6{position:relative;margin-top:1em;margin-bottom:16px;font-weight:700;line-height:1.4}h1 .octicon-link,h2 .octicon-link,h3 .octicon-link,h4 .octicon-link,h5 .octicon-link,h6 .octicon-link{display:none;color:#000;vertical-align:middle}h1:hover .anchor,h2:hover .anchor,h3:hover .anchor,h4:hover .anchor,h5:hover .anchor,h6:hover .anchor{height:1em;padding-left:8px;margin-left:-30px;line-height:1;text-decoration:none}h1:hover .anchor .octicon-link,h2:hover .anchor .octicon-link,h3:hover .anchor .octicon-link,h4:hover .anchor .octicon-link,h5:hover .anchor .octicon-link,h6:hover .anchor .octicon-link{display:inline-block}h1 code,h1 tt,h2 code,h2 tt,h3 code,h3 tt,h4 code,h4 tt,h5 code,h5 tt,h6 code,h6 tt{font-size:inherit}h1{font-size:2.25em;line-height:1.2}h1,h2{padding-bottom:.3em;border-bottom:1px solid #eee}h2{font-size:1.75em;line-height:1.225}h3{font-size:1.5em;line-height:1.43}h4{font-size:1.25em}h5,h6{font-size:1em}h6{color:#777}blockquote,dl,ol,p,pre,table,ul{margin-top:0;margin-bottom:16px}hr{height:4px;margin:16px 0;background-color:#e7e7e7;border:0 none}ol,ul{padding-left:2em}ol.no-list,ul.no-list{padding:0;list-style-type:none}ol ol,ol ul,ul ol,ul ul{margin-top:0;margin-bottom:0}li>p{margin-top:16px}dl,dl dt{padding:0}dl dt{margin-top:16px;font-size:1em;font-style:italic;font-weight:700}dl dd{padding:0 16px;margin-bottom:16px}blockquote{padding:0 15px;color:#777;border-left:4px solid #ddd}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}table th{font-weight:700}table td,table th{padding:6px 13px;border:1px solid #ddd}table tr{background-color:#fff;border-top:1px solid #ccc}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%;box-sizing:border-box}span.frame,span.frame>span{display:block;overflow:hidden}span.frame>span{float:left;width:auto;padding:7px;margin:13px 0 0;border:1px solid #ddd}span.frame span img{display:block;float:left}span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}span.align-center{display:block;overflow:hidden;clear:both}span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}span.align-center span img{margin:0 auto;text-align:center}span.align-right{display:block;overflow:hidden;clear:both}span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}span.align-right span img{margin:0;text-align:right}span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}span.float-left span{margin:13px 0 0}span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}code,tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:"\00a0"}code br,tt br{display:none}del code{text-decoration:inherit;vertical-align:text-top}pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.highlight{margin-bottom:16px}.highlight pre,pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.highlight pre{margin-bottom:0;word-break:normal}pre,pre code,pre tt{word-wrap:normal}pre code,pre tt{display:inline;max-width:none;padding:0;margin:0;overflow:initial;line-height:inherit;background-color:transparent;border:0}pre code:after,pre code:before,pre tt:after,pre tt:before{content:normal}abbr,address,article,aside,audio,b,blockquote,body,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,ul,var,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{text-decoration:none}ins,mark{background-color:#ff9;color:#000}mark{font-style:italic;font-weight:700}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border-top:1px solid #ccc;margin:1em 0}input,select{vertical-align:middle}body{background-color:#0f1621;color:#fff;font-size:14px;font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,freesans,sans-serif}main{max-width:1180px;padding:30px;margin:0 auto}h1{font-weight:300;line-height:1.4em;margin:.5em 0;font-family:Georgia,serif;transition:color .4s}h1,h2{font-size:2em}h2,h3{font-weight:300;margin:30px 0}h3{font-size:1.8em}h4{font-size:1.6em}h4,h5{font-weight:300}h5{font-size:1.2em}h6{font-weight:300;font-size:1em}p{line-height:1.4em;font-size:1.2em;margin:15px 0}blockquote{border-left:5px solid #ff1d55;background-color:#ffe9ee;padding:1em;margin-bottom:1em}small{font-size:80%}.lightbox{background-color:rgba(3,121,196,.4);min-height:100vh;min-width:100vw;padding:30px}code{font:14px Consolas,Liberation Mono,Menlo,Courier,monospace}p>code{color:#ff1d55}pre code{display:block;background-color:#f7f7f7;padding:15px;overflow:auto;color:#123;line-height:1.4em}a{color:#f72060;text-decoration:none;transition:color .4s,background .4s}a:hover{color:#e9003a}ol,ul{margin:7.5px;padding:7.5px 15px}ol li,ul li{margin:7.5px 15px}.doc-parameters{list-style-type:none;padding:0}.doc-parameters li{display:block;margin:0;margin-bottom:15px}.doc-parameters .example,.doc-parameters blockquote{border-left:5px solid #0379c4;background-color:#96d5fd;color:#123;line-height:1em;font-size:1em;padding:1em;margin:0}.doc-parameters .example{background-color:#c8e9fe}.doc-parameters .parameter{display:block;padding:1em;background-color:#0379c4;color:#fff;margin:0}.doc-parameters .parameter strong{display:inline-block;padding:0 .5em;border-radius:.25em;line-height:2em;background-color:#025a92}hr{height:.25em;padding:0;margin:24px 0;background-color:#f7f7f7;border:0}.teaser{display:-ms-flexbox;display:flex;text-align:left;-ms-flex-line-pack:center;align-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:justify;justify-content:space-between}.teaser aside{-ms-flex-preferred-size:60%;flex-basis:60%;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;padding:30px}@media (max-width:700px){.teaser aside{-ms-flex-preferred-size:100%;flex-basis:100%}}.teaser .content{-ms-flex-preferred-size:40%;flex-basis:40%;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;color:dimgray;font-size:12px}@media (max-width:700px){.teaser .content{-ms-flex-preferred-size:100%;flex-basis:100%}}.teaser .content.content-full{-ms-flex-preferred-size:100%;flex-basis:100%}.teaser .content h3{font-size:14px;text-transform:uppercase;font-weight:600;color:#123}.main-index{text-align:center}.main-index amp-img{margin:15px auto;width:50%}@media (min-width:900px){h1{font-size:3em}.main-index p{font-size:2em}}.breadcrumbs{padding:1em;background-color:#f7f7f7}.breadcrumbs ul{display:block;margin:0;padding:0}.breadcrumbs ul li{display:inline-block;margin:0 .5em}.breadcrumbs ul li:before{content:" / ";position:relative;margin-left:-.5em;color:dimgray}.breadcrumbs ul li a{color:dimgray}.breadcrumbs ul li:last-child a{color:#ff1d55}header{background-color:#ff1d55;color:#fff;padding:30px;position:relative}header .brand{display:inline-block;position:absolute;left:30px;top:20px;line-height:15px;text-transform:uppercase;padding:7.5px;font-size:1.4em}header .brand:hover{background-color:#ff1d55;color:#fff}header a{color:#fff;text-decoration:none;border-radius:7.5px;padding:7.5px}header a:hover{text-decoration:none;background-color:#fff;color:#ff1d55}header nav ul{padding:0;margin:0;display:block;text-align:right}header nav ul li{padding:0;margin:0 7.5px;display:inline-block}header nav ul li.hamburger{display:none}header nav ul li.hamburger button{position:absolute;right:30px;top:20px;border:0;background-color:#fff;color:#ff1d55;font-weight:700;border-radius:50%;width:30px;height:30px;overflow:hidden;text-align:center;padding:0;margin:0}@media (max-width:900px){header nav ul li{display:none}header nav ul li.hamburger{display:inline-block}}.sidebarNavigation{width:210px;max-width:95%}.sidebarNavigation ul{padding:0;margin:0}.sidebarNavigation ul li{display:block}.sidebarNavigation ul li a{display:block;line-height:1.4em;padding:7.5px}footer{margin:60px auto;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:justify;justify-content:space-between;max-width:1180px;padding:30px;font-size:12px}footer a:hover{text-decoration:none}footer strong{text-transform:uppercase;margin-bottom:15px;display:block}footer strong a{color:#1d1d1d}footer ul{display:block;padding:0;margin:0}footer ul li{display:block;line-height:1.4em;padding:7.5px 0;margin:0}footer ul li a{color:dimgray}footer .quarter-section{margin-bottom:30px;-ms-flex-preferred-size:25%;flex-basis:25%}@media (max-width:900px){footer .quarter-section{-ms-flex-preferred-size:33%;flex-basis:33%}}@media (max-width:700px){footer .quarter-section{-ms-flex-preferred-size:50%;flex-basis:50%}}@media (max-width:500px){footer .quarter-section{-ms-flex-preferred-size:100%;flex-basis:100%}}.boxes{display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:justify;justify-content:space-between;font-size:12px}.boxes .box{-ms-flex-preferred-size:30%;flex-basis:30%;background-color:#f7f7f7;padding:30px;margin:7.5px 0;text-align:left;font-size:12px}.boxes .box h3{font-size:12px;line-height:1em;padding:0;margin:0}.boxes .box a{padding:0;color:#ff1d55}.boxes .box p{color:dimgray;font-size:12px;margin:7.5px 0}@media (max-width:900px){.boxes .box{-ms-flex-preferred-size:45%;flex-basis:45%}}@media (max-width:500px){.boxes .box{-ms-flex-preferred-size:100%;flex-basis:100%}}.mt-5,.my-5{margin-top:3rem}.mt-4,.my-4{margin-top:1.5rem}.mb-5,.my-5{margin-bottom:3rem}.mb-4,.my-4{margin-bottom:1.5rem}
    </style>


</head>

<body>






<main>
    <h1>Vue.js and Chart.js Weather API Example</h1>
    <div>
        <p><small>September 13, 2018</small></p>
    </div>
    <div>
        <p><amp-img src="https://codebushi.com/amp/img/vuejs-chartjs.jpg" alt="" layout="responsive" width="920" height="503"></amp-img></p>
    </div>
    <div>
        <p>Recently I was asked to add some fancy charts and graphs to an existing Wordpress website. In the past, my weapon of choice would be either jQuery or Angular.js for a task such as this, but I decided to try the popular <a href="https://vuejs.org/">Vue.js</a>. Vue.js is a progressive javascript framework, which means it&rsquo;s extremely easy to add it to an existing website and get started. For this tutorial, I&rsquo;m going to start with a simple HTML boilerplate file and add Vue.js at the bottom in a <code>&lt;script&gt;</code> tag. We&rsquo;ll hit the OpenWeatherMap API to get some weather data and chart the temperatures with Chart.js.</p>

<p>If you&rsquo;re new to Vue.js, I highly recommend going through their <a href="https://vuejs.org/v2/guide/">introduction guide</a> first. It covers some important basics and the structure of a Vue application.</p>

<h4 class="mt-4 mb-4"><a href="http://vuejs-chartjs.surge.sh/">Vue.js and Chart.js Weather API Example</a> <small>( <a href="https://github.com/codebushi/vuejs-chartjs-example">view source</a> )</small></h4>

<p>Before we start, I want to note that Vue.js also has a <a href="https://cli.vuejs.org/">CLI</a>, which works similar to React&rsquo;s Create-React-App. The Vue CLI is great for JavaScript apps built with Vue.js from the beginning. For our purposes, however, we&rsquo;ll be adding Vue to an &ldquo;existing site&rdquo; and won&rsquo;t need to use the CLI. This also means we don&rsquo;t need to worry about any Webpack configurations or build/deploy commands.</p>

<p>Our existing HTML file looks like this:</p>

<pre><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Vue.js Example With Chart.js&lt;/title&gt;
    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css&quot; integrity=&quot;sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B&quot; crossorigin=&quot;anonymous&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
      &lt;div class=&quot;container&quot;&gt;
        &lt;div class=&quot;my-5&quot;&gt;
          &lt;form&gt;
            &lt;div class=&quot;row&quot;&gt;
              &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;
                &lt;h5&gt;Enter A City:&lt;/h5&gt;
                &lt;div class=&quot;input-group&quot;&gt;
                  &lt;input type=&quot;text&quot; class=&quot;form-control&quot;&gt;
                  &lt;div class=&quot;input-group-append&quot;&gt;
                    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/div&gt;
        &lt;div class=&quot;my-5&quot;&gt;
          &lt;div class=&quot;alert alert-info&quot;&gt;
            Loading...
          &lt;/div&gt;
          &lt;div&gt;
            &lt;canvas id=&quot;myChart&quot;&gt;&lt;/canvas&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>It&rsquo;s a simple HTML file with some Bootstrap grid and form elements. Imagine this being any existing website you&rsquo;ll need to work on.</p>

<h3 class="mt-5 mb-3">Adding Vue.js and Chart.js</h3>

<p>In order to use Vue.js and the other JavaScript tools, we&rsquo;ll need to add their <code>&lt;script&gt;</code> tags to our page. If you have access to the site&rsquo;s entire template, these can be added right after the <code>&lt;/body&gt;</code> tag. If you don&rsquo;t want to load these scripts on every page of your site, they can be added to the bottom of whichever page you are working on.</p>

<pre><code class="language-html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>Here we load Vue.js, Moment.js for date/time formatting, Chart.js, Axios to make our API requests, and main.js which will contain our own code. Note that these scripts are loaded one by one, which isn&rsquo;t ideal. One of the benefits of using the Vue CLI is the ability to bundle all the necessary JavaScript files and optimize loading, but we don&rsquo;t always have that luxury when working with old websites.</p>

<h3 class="mt-5 mb-3">Using Axios to get weather data from the API</h3>

<p>The first step of this app is getting some weather data from the OpenWeatherMap API. I chose to use the <a href="https://openweathermap.org/forecast5">5 day forecast</a> since it&rsquo;s available on the free tier. You can sign up for free with OpenWeatherMap to get your own appid key, which is needed at the end of every query.</p>

<p>In our <code>main.js</code> we&rsquo;ll initialize our Vue app and create a method to get our data.</p>

<pre><code class="language-javascript">var app = new Vue({
  el: &quot;#app&quot;,
  data: {
    chart: null,
    city: &quot;&quot;,
    dates: [],
    temps: [],
    loading: false,
    errored: false
  },
  methods: {
    getData: function() {

      this.loading = true;

      axios
        .get(&quot;https://api.openweathermap.org/data/2.5/forecast&quot;, {
          params: {
            q: this.city,
            units: &quot;imperial&quot;,
            appid: &quot;Your OpenWeatherMap Key here&quot;
          }
        })
        .then(response =&gt; {
          console.log(response)
        })
        .catch(error =&gt; {
          console.log(error);
          this.errored = true;
        })
        .finally(() =&gt; (this.loading = false));
    }
  }
});
</code></pre>

<p>The <code>getData</code> method contains the Axios query we&rsquo;ll be making. The only missing field we need is <code>this.city</code> which we&rsquo;ll need from the form. Let&rsquo;s hook up our HTML to this Vue app.</p>

<pre><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Vue.js Example With Chart.js&lt;/title&gt;
    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css&quot; integrity=&quot;sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B&quot; crossorigin=&quot;anonymous&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
      &lt;div class=&quot;container&quot;&gt;
        &lt;div class=&quot;my-5&quot;&gt;
          &lt;form v-on:submit.prevent=&quot;getData&quot;&gt;
            &lt;div class=&quot;row&quot;&gt;
              &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;
                &lt;h5&gt;Enter A City:&lt;/h5&gt;
                &lt;div class=&quot;input-group&quot;&gt;
                  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; v-model=&quot;city&quot;&gt;
                  &lt;div class=&quot;input-group-append&quot;&gt;
                    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/div&gt;
        &lt;div class=&quot;my-5&quot;&gt;
          &lt;div class=&quot;alert alert-info&quot; v-show=&quot;loading&quot;&gt;
            Loading...
          &lt;/div&gt;
          &lt;div v-show=&quot;chart != null&quot;&gt;
            &lt;canvas id=&quot;myChart&quot;&gt;&lt;/canvas&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
&lt;/html&gt;
</code></pre>

<p>As you can see, most of the HTML is unchanged. The only parts that need to be added are the various <code>v-</code> attributes. Let&rsquo;s quickly go over the changes.</p>

<pre><code class="language-html">&lt;form v-on:submit.prevent=&quot;getData&quot;&gt;
</code></pre>

<p>This line hooks up our form to our <code>getData</code> method, and fires whenever the form is submitted. The default action of a form submit is to reload the page, so the <code>.prevent</code> acts like a <code>event.preventDefault()</code>.</p>

<pre><code class="language-html">&lt;input type=&quot;text&quot; class=&quot;form-control&quot; v-model=&quot;city&quot;&gt;
</code></pre>

<p>This binds the input field to our Vue app&rsquo;s <code>data.city</code>, and can then be access in the <code>getData</code> method via <code>this.city</code>. This is how we change the city based on the user input.</p>

<pre><code class="language-html">&lt;div class=&quot;alert alert-info&quot; v-show=&quot;loading&quot;&gt;
Loading...
&lt;/div&gt;
</code></pre>

<p>The <code>v-show</code> parts are optional, but it makes for a better UI experience. It will show the loading alert when the app is in the loading state, and hide it once the loading is complete, after the query successfully gets the data.</p>

<p>With these pieces in place, you can try our the query. Enter a city and submit the form. Open up your console and you should see the log of data from the API!</p>

<h3 class="mt-5 mb-3">Formatting the data for Chart.js</h3>

<p>Once we get our data, we&rsquo;ll need to organize it into arrays for Chart.js to use. We will have an array of dates for the x-axis and an array of temperature values for the y-axis.</p>

<p>In our <code>main.js</code>, replace the <code>console.log(response)</code> with the following:</p>

<pre><code class="language-javascript">.then(response =&gt; {
  this.dates = response.data.list.map(list =&gt; {
    return list.dt_txt;
  });

  this.temps = response.data.list.map(list =&gt; {
    return list.main.temp;
  });
})
</code></pre>

<p>This sets our <code>data.dates</code> and <code>data.temps</code> to the mapped arrays. Note that we are using an arrow function in the <code>.then()</code>, which is binding the <code>this.dates</code> and <code>this.temps</code> properly. If you can&rsquo;t use arrow functions, be sure to add <code>.bind(this)</code> after your function.</p>

<h3 class="mt-5 mb-3">Charting the data with Chart.js</h3>

<p>Once the data is formatted, we can initialize a new Chart and plug in the data. When working with Chart.js, or any other charting library, much of the legwork is formatting the chart properly. I highly recommend going through the <a href="http://www.chartjs.org/docs/latest/">Chart.js docs</a> and checking out their samples to see the different options available. Depending on the data you are charting, the tooltips and X or Y axis may need to be adjusted to display the proper units for the data.</p>

<p>I&rsquo;ve gone through and formatted the Chart.js options already for this demo, feel free to look at the options and make any changes needed.</p>

<p>Our final <code>main.js</code> file now looks like this:</p>

<pre><code class="language-javascript">var app = new Vue({
  el: &quot;#app&quot;,
  data: {
    chart: null,
    city: &quot;&quot;,
    dates: [],
    temps: [],
    loading: false,
    errored: false
  },
  methods: {
    getData: function() {
      this.loading = true;

      if (this.chart != null) {
        this.chart.destroy();
      }

      axios
        .get(&quot;https://api.openweathermap.org/data/2.5/forecast&quot;, {
          params: {
            q: this.city,
            units: &quot;imperial&quot;,
            appid: &quot;fd3150a661c1ddc90d3aefdec0400de4&quot;
          }
        })
        .then(response =&gt; {
          this.dates = response.data.list.map(list =&gt; {
            return list.dt_txt;
          });

          this.temps = response.data.list.map(list =&gt; {
            return list.main.temp;
          });

          var ctx = document.getElementById(&quot;myChart&quot;);
          this.chart = new Chart(ctx, {
            type: &quot;line&quot;,
            data: {
              labels: this.dates,
              datasets: [
                {
                  label: &quot;Avg. Temp&quot;,
                  backgroundColor: &quot;rgba(54, 162, 235, 0.5)&quot;,
                  borderColor: &quot;rgb(54, 162, 235)&quot;,
                  fill: false,
                  data: this.temps
                }
              ]
            },
            options: {
              title: {
                display: true,
                text: &quot;Temperature with Chart.js&quot;
              },
              tooltips: {
                callbacks: {
                  label: function(tooltipItem, data) {
                    var label =
                      data.datasets[tooltipItem.datasetIndex].label || &quot;&quot;;

                    if (label) {
                      label += &quot;: &quot;;
                    }

                    label += Math.floor(tooltipItem.yLabel);
                    return label + &quot;°F&quot;;
                  }
                }
              },
              scales: {
                xAxes: [
                  {
                    type: &quot;time&quot;,
                    time: {
                      unit: &quot;hour&quot;,
                      displayFormats: {
                        hour: &quot;M/DD @ hA&quot;
                      },
                      tooltipFormat: &quot;MMM. DD @ hA&quot;
                    },
                    scaleLabel: {
                      display: true,
                      labelString: &quot;Date/Time&quot;
                    }
                  }
                ],
                yAxes: [
                  {
                    scaleLabel: {
                      display: true,
                      labelString: &quot;Temperature (°F)&quot;
                    },
                    ticks: {
                      callback: function(value, index, values) {
                        return value + &quot;°F&quot;;
                      }
                    }
                  }
                ]
              }
            }
          });
        })
        .catch(error =&gt; {
          console.log(error);
          this.errored = true;
        })
        .finally(() =&gt; (this.loading = false));
    }
  }
});
</code></pre>

<p>Most of the chart is made up of options, which never really change after they are set to your liking. The parts that do change are <code>data.labels</code> and <code>data.datasets</code>. You can see that we plug in our <code>this.dates</code> and <code>this.temps</code> arrays into these areas of the chart.</p>

<p>We also set <code>this.chart</code> to the newly created chart. Notice this new condition right before the Axios query:</p>

<pre><code class="language-javascript">if (this.chart != null) {
  this.chart.destroy();
}
</code></pre>

<p>This is used when more than once city is queried, it will destroy the old chart before making a new one to avoid any data overlapping.</p>

<p>That&rsquo;s it! The app now gets data based on the city you input and charts out the temperatures. Try experimenting with the different Chart.js options or adding a toggle for a °F to °C.</p>

<h4 class="mt-4 mb-4"><a href="http://vuejs-chartjs.surge.sh/">Vue.js and Chart.js Weather API Example</a> <small>( <a href="https://github.com/codebushi/vuejs-chartjs-example">view source</a> )</small></h4>

    </div>
</main>



<amp-analytics type="googleanalytics">
    <script type="application/json">
        {
            "vars": {
                "account": "UA-115990515-1"
            },
            "triggers": {"trackEvent":{"on":"click","request":"event","selector":"body","vars":{"eventAction":"click","eventCategory":"body-click"}},"trackPageview":{"on":"visible","request":"pageview"}}
        }
    </script>
</amp-analytics>

</body>
</html>
